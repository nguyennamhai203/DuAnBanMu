@using Shop_Models.Dto;
@model List<SanPhamChiTietDto>


@{
    ViewData["Title"] = "Product List";
}

<main id="main" class="main">
    <div class="pagetitle">
        <h1>Data Tables</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Tables</li>
                <li class="breadcrumb-item active">Data</li>
            </ol>
        </nav>
    </div>

    <section class="section">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Datatables</h5>
                        <p>Add lightweight datatables to your project with using the <a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank">Simple DataTables</a> library. Just add <code>.datatable</code> class name to any table you wish to conver to a datatable</p>

                        <!-- Table with stripped rows -->
                        <table id="productTable" class="table datatable">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Product Code</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Product Name</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var product in Model)
                                {
                                    <tr>
                                        <td>@product.Id</td>
                                        <td>@product.MaSanPhamChiTiet</td>
                                        <td>@product.TrangThai</td>
                                        <td>@product.TenSanPham</td>
                                        <td>@product.GiaBan</td>
                                        <td>@product.GiaNhap</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        <!-- End Table with stripped rows -->
                    </div>
                </div>
            </div>
        </div>

    </section>
</main>

@section Scripts {
    <script>
        // document.addEventListener('DOMContentLoaded', function () {
        //     // Lắng nghe sự kiện thay đổi giá trị của dropdown list
        //     document.getElementById('pageSizeSelect').addEventListener('change', function () {
        //         var pageSize = this.value; // Lấy giá trị mới được chọn
        //         loadData(pageSize); // Gọi hàm loadData với pageSize mới
        //     });

        //     function loadData(pageSize) {
        //         // Sử dụng AJAX để gửi yêu cầu tới controller với pageSize mới
        //         var url = '/ChiTietSanPham/Index?page=1&PageSize=' + pageSize;
        //         $.get(url, function (data) {
        //             // Cập nhật dữ liệu trên trang với dữ liệu mới từ controller
        //             $('#productTable tbody').html(data);
        //         });
        //     }
        // });

        // document.getElementById("pageSizeSelector").onchange = function () {
        //     var pageSize = this.value; // Lấy giá trị pageSize mới được chọn
        //     loadPageWithPageSize(pageSize); // Gọi hàm để gửi yêu cầu AJAX
        // };

        // function loadPageWithPageSize(pageSize) {
        //     // Sử dụng thư viện jQuery để gửi yêu cầu AJAX
        //     $.ajax({
        //         url: '/SanPhamChiTiet/Index', // Thay đổi đường dẫn đến action của controller của bạn
        //         type: 'GET',
        //         data: { pageSize: pageSize }, // Truyền pageSize mới qua query string
        //         success: function (response) {
        //             // Xử lý phản hồi từ server (nếu cần)
        //         },
        //         error: function (xhr, status, error) {
        //             // Xử lý lỗi (nếu có)
        //             console.error(error);
        //         }
        //     });
        // }


    </script>



}




@* <main id="main" class="main">
    <!-- Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1>Product List</h1>
                <!-- Include the partial view here -->
                @await Html.PartialAsync("_ProductListPartial", Model)
            </div>
        </div>
    </div>
</main>
 *@


<div class="col-sm-12 m-t-15">
    <table class="table table-bordered table-hover no-footer w-100" id="table-sanpham">
    </table>
</div>